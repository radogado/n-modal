var componentModal=function(){const e=window.matchMedia("(prefers-reduced-motion: no-preference)").matches?200:0;let t=e=>{document.documentElement.classList.remove("transparent-scrollbar");let n=e.target;if(n.removeEventListener("close",t),n.existingDetachedElement){if(!n.existingModal){let e=n.querySelector(".n-modal__content");e.removeChild(e.firstElementChild)}delete n.existingDetachedElement,n.remove()}n.attachedHiddenContent?n.replaceWith(n.lastChild):n.dataset.existingAttachedContent?n.replaceWith(n.lastChild.firstElementChild):n.existingModal?(delete n.existingModal,delete n.dataset.anim):n.remove()};function n(n){let a="normal";var o=n.dataset.anim;!o||o.length<11?o='[{ "transform": "translate3d(0,0,0)" }, { "transform": "translate3d(0,-100%,0)" }]':a="reverse",n.animate(JSON.parse(o),{duration:e,direction:a,easing:"ease-in-out"}).onfinish=()=>{window.onscroll=function(){},n.existingModal&&(n.removeEventListener("close",t),delete n.dataset.anim),n.close(),document.querySelector("html").classList.remove("no-scroll")}}function a(a){document.documentElement.style.overflow="scroll";const o=window.innerWidth-document.documentElement.offsetWidth;document.documentElement.style.overflow="",o||document.documentElement.classList.add("transparent-scrollbar"),("string"==typeof a||a.tagName)&&(a={content:a});let l=a.animation,d=a.content,i=a.trigger;var s,r,c={},m=!1;if(d.parentNode){if("DIALOG"===d.parentNode.tagName||d.parentNode.classList.contains("n-modal__content"))return}else d.tagName&&(m=!0);if("object"==typeof d&&"DIALOG"===d.tagName)d.parentNode||document.body.appendChild(d),(c=d).existingModal=!0;else{(c=document.createElement("dialog")).insertAdjacentHTML("afterbegin",`<button class="n-modal__close" aria-label="${a.closeLabel||i?.dataset.closeLabel||"Close"}" data-close-text="${a.closeText||i?.dataset.closeText||"â•³"}"></button><div class="n-modal__content"></div>`);document.createElement("div");if("string"==typeof d)c.lastChild.innerHTML=d,document.body.appendChild(c);else{if(d.parentElement){let e=document.createElement("div");d.replaceWith(e),c.lastChild.appendChild(d),e.replaceWith(c),d.classList.contains("n-modal__content")?(c.lastChild.replaceWith(d),c.attachedHiddenContent=!0):c.dataset.existingAttachedContent=!0}else c.lastChild.appendChild(d),document.body.appendChild(c)}}return a.blur&&c.classList.add("n-modal--blur"),a.shadow&&c.classList.add("n-modal--shadow"),a.rounded&&c.classList.add("n-modal--rounded"),a.full&&c.classList.add("n-modal--full"),c.dataset.anim=l,c.classList.add("n-modal"),c.onclick=e=>{let t=e.target.closest(".n-modal");(e.target.closest(".n-modal__close")||e.offsetX<0||e.offsetY<0||e.offsetX-2>t.getBoundingClientRect().width||e.offsetY-2>t.getBoundingClientRect().height)&&n(t)},c.addEventListener("cancel",(e=>{e.preventDefault(),n(e.target.closest(".n-modal"))})),m&&(c.existingDetachedElement=!0),c.showModal(),s=window.scrollX,r=window.scrollY,window.onscroll=function(){window.scrollTo(s,r)},document.querySelector("html").classList.add("no-scroll"),c.animate("string"==typeof l?JSON.parse(l):[{transform:"translate3d(0,-100vh,0)"},{transform:"translate3d(0,0,0)"}],{duration:e,easing:"ease-in-out"}).onfinish=()=>{c.addEventListener("close",t)},c}function o(e){let t=e.target.closest(".n-modal-link");var n=t.dataset.href||t.href,o=t.dataset.anim;const l=e=>{return n=t,l=a({content:e,animation:o,trigger:t}),void("string"==typeof(d=["n-modal--full","n-modal--rounded","n-modal--shadow","n-modal--blur"])?new Array(d):d).forEach((e=>{n.classList.contains(e)&&l.classList.add(e)}));var n,l,d};return t.dataset.for?l(document.getElementById(t.dataset.for)):fetch(n.split("#")[0]).then((e=>e.text())).then((e=>{var t,a,o=(t=e,(a=document.implementation.createHTMLDocument("Parsed")).body.innerHTML=t,a.body),d=n.split("#")[1]?"#"+n.split("#")[1]:0;o=d&&o.querySelector(d)?o.querySelector(d).innerHTML:o.innerHTML,l(o)})).catch((e=>{l(e)})),!1}let l=(e=document)=>{e.querySelectorAll(".n-modal-link:not([data-ready])").forEach((e=>{e.href!==location.href.split("#")[0]+"#"&&(e.onclick=o),e.href&&!e.getAttribute("rel")&&e.setAttribute("rel","prefetch"),e.dataset.ready=!0}))};window.nui=void 0===window.nui?{}:window.nui,nui.modal=a,nui.modal.init=l;let d=document.querySelector(`.n-modal${location.hash}.n-modal--uri`);return location.hash&&d&&a(d),"function"==typeof registerComponent?registerComponent("n-modal",l):l(),{closeModal:n,openModal:a}}();